<?xml version="1.0" encoding="UTF-8"?>
<tde:template xmlns:tde="http://marklogic.com/xdmp/tde">
  <tde:description>Extraction Template Generated from Entity Type Document
graph uri: http://marklogic.com/ns1#Model_1ns-0.0.1</tde:description>
  <!--
 The following line matches JSON and XML instances, but may be slower to index documents.
 {$model=>map:get("info")=>map:get("version")} 
-->
  <tde:context>//*:instance[*:info/*:version = "0.0.1"]</tde:context>
  <!--
 Replace the above with the following line to match XML instances only.  This may speed up indexing 
        <tde:context>//es:instance[es:info/es:version = "0.0.1"]</tde:context>
        
-->
  <!--
 Replace the above with the following line to match JSON instances only.  This may speed up indexing
        <tde:context>//instance[info/version = "0.0.1"]</tde:context>
        
-->
  <tde:vars>
    <tde:var>
      <tde:name>RDF</tde:name>
      <tde:val>"http://www.w3.org/1999/02/22-rdf-syntax-ns#"</tde:val>
    </tde:var>
    <tde:var>
      <tde:name>RDF_TYPE</tde:name>
      <tde:val>sem:iri(concat($RDF, "type"))</tde:val>
    </tde:var>
  </tde:vars>
  <tde:path-namespaces>
    <tde:path-namespace>
      <tde:prefix>es</tde:prefix>
      <tde:namespace-uri>http://marklogic.com/entity-services</tde:namespace-uri>
    </tde:path-namespace>
    <tde:path-namespace>
      <tde:prefix>cust</tde:prefix>
      <tde:namespace-uri>http://marklogic.com/customer</tde:namespace-uri>
    </tde:path-namespace>
    <tde:path-namespace>
      <tde:prefix>sup</tde:prefix>
      <tde:namespace-uri>http://marklogic.com/super</tde:namespace-uri>
    </tde:path-namespace>
  </tde:path-namespaces>
  <tde:templates>
    <tde:template>
      <tde:context>./Product</tde:context>
      <tde:rows>
        <tde:row>
          <tde:schema-name>Model_1ns</tde:schema-name>
          <tde:view-name>Product</tde:view-name>
          <tde:view-layout>sparse</tde:view-layout>
          <tde:columns>
            <tde:column>
              <tde:name>ProductName</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>ProductName</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>ProductID</tde:name>
              <tde:scalar-type>integer</tde:scalar-type>
              <tde:val>ProductID</tde:val>
            </tde:column>
            <tde:column>
              <tde:name>UnitPrice</tde:name>
              <tde:scalar-type>double</tde:scalar-type>
              <tde:val>UnitPrice</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>SupplierID</tde:name>
              <tde:scalar-type>integer</tde:scalar-type>
              <tde:val>SupplierID</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Discontinued</tde:name>
              <tde:scalar-type>boolean</tde:scalar-type>
              <tde:val>Discontinued</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
          </tde:columns>
        </tde:row>
      </tde:rows>
    </tde:template>
    <tde:template>
      <tde:context>./cust:Customer</tde:context>
      <tde:vars>
        <tde:var>
          <tde:name>subject-iri</tde:name>
          <tde:val>sem:iri(concat("http://marklogic.com/ns1/Model_1ns-0.0.1/Customer/", fn:encode-for-uri(./cust:CustomerID)))</tde:val>
        </tde:var>
      </tde:vars>
      <tde:triples>
        <tde:triple>
          <tde:subject>
            <tde:val>$subject-iri</tde:val>
          </tde:subject>
          <tde:predicate>
            <tde:val>$RDF_TYPE</tde:val>
          </tde:predicate>
          <tde:object>
            <tde:val>sem:iri("http://marklogic.com/ns1/Model_1ns-0.0.1/Customer")</tde:val>
          </tde:object>
        </tde:triple>
        <tde:triple>
          <tde:subject>
            <tde:val>$subject-iri</tde:val>
          </tde:subject>
          <tde:predicate>
            <tde:val>sem:iri("http://www.w3.org/2000/01/rdf-schema#isDefinedBy")</tde:val>
          </tde:predicate>
          <tde:object>
            <tde:val>fn:base-uri(.)</tde:val>
          </tde:object>
        </tde:triple>
      </tde:triples>
    </tde:template>
    <tde:template>
      <tde:context>./cust:Customer</tde:context>
      <tde:rows>
        <tde:row>
          <tde:schema-name>Model_1ns</tde:schema-name>
          <tde:view-name>Customer</tde:view-name>
          <tde:view-layout>sparse</tde:view-layout>
          <tde:columns>
            <tde:column>
              <tde:name>CustomerID</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>cust:CustomerID</tde:val>
            </tde:column>
            <tde:column>
              <tde:name>CompanyName</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>cust:CompanyName</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Country</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>cust:Country</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Address</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>cust:Address</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
          </tde:columns>
        </tde:row>
      </tde:rows>
    </tde:template>
    <tde:template>
      <tde:context>./Order</tde:context>
      <tde:rows>
        <tde:row>
          <tde:schema-name>Model_1ns</tde:schema-name>
          <tde:view-name>Order</tde:view-name>
          <tde:view-layout>sparse</tde:view-layout>
          <tde:columns>
            <tde:column>
              <tde:name>OrderID</tde:name>
              <tde:scalar-type>integer</tde:scalar-type>
              <tde:val>OrderID</tde:val>
            </tde:column>
            <tde:column>
              <tde:name>hasCustomerID</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>hasCustomerID</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>OrderDate</tde:name>
              <tde:scalar-type>dateTime</tde:scalar-type>
              <tde:val>OrderDate</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>ShipAddress</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>ShipAddress</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
          </tde:columns>
        </tde:row>
      </tde:rows>
      <tde:templates>
        <tde:template>
          <tde:context>./OrderDetails</tde:context>
          <tde:rows>
            <tde:row>
              <tde:schema-name>Model_1ns</tde:schema-name>
              <tde:view-name>Order_OrderDetails</tde:view-name>
              <tde:view-layout>sparse</tde:view-layout>
              <tde:columns>
                <tde:column>
                  <!--
This column joins to property OrderID of Order
-->
                  <tde:name>OrderID</tde:name>
                  <tde:scalar-type>integer</tde:scalar-type>
                  <tde:val>../OrderID</tde:val>
                </tde:column>
                <tde:column>
                  <tde:name>hasProductID</tde:name>
                  <tde:scalar-type>integer</tde:scalar-type>
                  <tde:val>OrderDetail/hasProductID</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
                <tde:column>
                  <tde:name>hasUnitPrice</tde:name>
                  <tde:scalar-type>double</tde:scalar-type>
                  <tde:val>OrderDetail/hasUnitPrice</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
                <tde:column>
                  <tde:name>Quantity</tde:name>
                  <tde:scalar-type>integer</tde:scalar-type>
                  <tde:val>OrderDetail/Quantity</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
              </tde:columns>
            </tde:row>
          </tde:rows>
        </tde:template>
      </tde:templates>
    </tde:template>
    <!--
The standalone template for OrderDetail cannot be generated.  Each template row requires a primary key or at least one required property.
-->
    <tde:template>
      <tde:context>./sup:Superstore</tde:context>
      <tde:vars>
        <tde:var>
          <tde:name>subject-iri</tde:name>
          <tde:val>sem:iri(concat("http://marklogic.com/ns1/Model_1ns-0.0.1/Superstore/", fn:encode-for-uri(xs:string(./sup:OrdID))))</tde:val>
        </tde:var>
      </tde:vars>
      <tde:triples>
        <tde:triple>
          <tde:subject>
            <tde:val>$subject-iri</tde:val>
          </tde:subject>
          <tde:predicate>
            <tde:val>$RDF_TYPE</tde:val>
          </tde:predicate>
          <tde:object>
            <tde:val>sem:iri("http://marklogic.com/ns1/Model_1ns-0.0.1/Superstore")</tde:val>
          </tde:object>
        </tde:triple>
        <tde:triple>
          <tde:subject>
            <tde:val>$subject-iri</tde:val>
          </tde:subject>
          <tde:predicate>
            <tde:val>sem:iri("http://www.w3.org/2000/01/rdf-schema#isDefinedBy")</tde:val>
          </tde:predicate>
          <tde:object>
            <tde:val>fn:base-uri(.)</tde:val>
          </tde:object>
        </tde:triple>
      </tde:triples>
    </tde:template>
    <tde:template>
      <tde:context>./sup:Superstore</tde:context>
      <tde:rows>
        <tde:row>
          <tde:schema-name>Model_1ns</tde:schema-name>
          <tde:view-name>Superstore</tde:view-name>
          <tde:view-layout>sparse</tde:view-layout>
          <tde:columns>
            <tde:column>
              <tde:name>OrdID</tde:name>
              <tde:scalar-type>integer</tde:scalar-type>
              <tde:val>sup:OrdID</tde:val>
            </tde:column>
            <tde:column>
              <tde:name>CustID</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>sup:CustID</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>OrdDate</tde:name>
              <tde:scalar-type>dateTime</tde:scalar-type>
              <tde:val>sup:OrdDate</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>ShippedDate</tde:name>
              <tde:scalar-type>dateTime</tde:scalar-type>
              <tde:val>sup:ShippedDate</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Product_Name</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>sup:Product-Name</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Unit_Price</tde:name>
              <tde:scalar-type>double</tde:scalar-type>
              <tde:val>sup:Unit-Price</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Quant</tde:name>
              <tde:scalar-type>integer</tde:scalar-type>
              <tde:val>sup:Quant</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
            <tde:column>
              <tde:name>Discount</tde:name>
              <tde:scalar-type>string</tde:scalar-type>
              <tde:val>sup:Discount</tde:val>
              <tde:nullable>true</tde:nullable>
            </tde:column>
          </tde:columns>
        </tde:row>
      </tde:rows>
      <tde:templates>
        <tde:template>
          <tde:context>./sup:Ship-Address</tde:context>
          <tde:rows>
            <tde:row>
              <tde:schema-name>Model_1ns</tde:schema-name>
              <tde:view-name>Ship_Address</tde:view-name>
              <tde:view-layout>sparse</tde:view-layout>
              <tde:columns>
                <tde:column>
                  <!--
This column joins to property OrdID of Superstore
-->
                  <tde:name>OrdID</tde:name>
                  <tde:scalar-type>integer</tde:scalar-type>
                  <tde:val>../sup:OrdID</tde:val>
                </tde:column>
                <tde:column>
                  <tde:name>Province</tde:name>
                  <tde:scalar-type>string</tde:scalar-type>
                  <tde:val>ShipDetails/Province</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
                <tde:column>
                  <tde:name>Region</tde:name>
                  <tde:scalar-type>string</tde:scalar-type>
                  <tde:val>ShipDetails/Region</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
                <tde:column>
                  <tde:name>ShipMode</tde:name>
                  <tde:scalar-type>string</tde:scalar-type>
                  <tde:val>ShipDetails/ShipMode</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
                <tde:column>
                  <tde:name>ShippingCost</tde:name>
                  <tde:scalar-type>double</tde:scalar-type>
                  <tde:val>ShipDetails/ShippingCost</tde:val>
                  <tde:nullable>true</tde:nullable>
                </tde:column>
              </tde:columns>
            </tde:row>
          </tde:rows>
        </tde:template>
      </tde:templates>
    </tde:template>
    <!--
The standalone template for ShipDetails cannot be generated.  Each template row requires a primary key or at least one required property.
-->
  </tde:templates>
</tde:template>