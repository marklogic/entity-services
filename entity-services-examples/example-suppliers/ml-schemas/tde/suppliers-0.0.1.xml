<?xml version="1.0" encoding="UTF-8"?>
<template xmlns="http://marklogic.com/xdmp/tde">
  <description>
Extraction Template Generated from Entity Type Document
graph uri: https://en.wikipedia.org/wiki/Suppliers_and_Parts_database#SP-0.0.1</description>
  <context>//instance[info/version="0.0.1"</context>
  <vars>
    <var>
      <name>RDF</name>
      <val>"http://www.w3.org/1999/02/22-rdf-syntax-ns#"</val>
    </var>
    <var>
      <name>RDF_TYPE</name>
      <val>sem:iri(concat($RDF, "type"))</val>
    </var>
  </vars>
  <path-namespaces>
    <path-namespace>
      <prefix>es</prefix>
      <namespace-uri>http://marklogic.com/entity-services</namespace-uri>
    </path-namespace>
  </path-namespaces>
  <templates>
    <template xmlns:tde="http://marklogic.com/xdmp/tde">
      <context>./Part</context>
      <vars>
	<var>
	  <name>subject-iri</name>
	  <val>sem:iri(concat("https://en.wikipedia.org/wiki/Suppliers_and_Parts_database/SP-0.0.1/Part/", fn:encode-for-uri(xs:string(./pid))))</val>
	</var>
      </vars>
      <triples>
	<triple>
	  <subject>
	    <val>$subject-iri</val>
	  </subject>
	  <predicate>
	    <val>$RDF_TYPE</val>
	  </predicate>
	  <object>
	    <val>sem:iri("https://en.wikipedia.org/wiki/Suppliers_and_Parts_database/SP-0.0.1/Part")</val>
	  </object>
	</triple>
	<triple>
	  <subject>
	    <val>$subject-iri</val>
	  </subject>
	  <predicate>
	    <val>sem:iri("http://www.w3.org/2000/01/rdf-schema#isDefinedBy")</val>
	  </predicate>
	  <object>
	    <val>fn:base-uri(.)</val>
	  </object>
	</triple>
      </triples>
    </template>
    <template xmlns:tde="http://marklogic.com/xdmp/tde">
      <context>./Part</context>
      <rows>
	<row>
	  <schema-name>SP</schema-name>
	  <view-name>Part</view-name>
	  <view-layout>sparse</view-layout>
	  <columns>
	    <column>
	      <name>pid</name>
	      <scalar-type>integer</scalar-type>
	      <val>pid</val>
	    </column>
	    <column>
	      <name>pName</name>
	      <scalar-type>string</scalar-type>
	      <val>pName</val>
	    </column>
	    <column>
	      <name>color</name>
	      <scalar-type>integer</scalar-type>
	      <val>color</val>
	    </column>
	    <column>
	      <name>weight</name>
	      <scalar-type>decimal</scalar-type>
	      <val>weight</val>
	    </column>
	    <column>
	      <name>city</name>
	      <scalar-type>string</scalar-type>
	      <val>city</val>
	    </column>
	  </columns>
	</row>
      </rows>
    </template>
    <template xmlns:tde="http://marklogic.com/xdmp/tde">
      <context>./Shipment</context>
      <rows>
	<row>
	  <schema-name>SP</schema-name>
	  <view-name>Shipment</view-name>
	  <view-layout>sparse</view-layout>
	  <columns>
	    <column>
	      <name>sid</name>
	      <scalar-type>integer</scalar-type>
	      <val>sid/Supplier</val>
	    </column>
	    <column>
	      <name>pid</name>
	      <scalar-type>integer</scalar-type>
	      <val>pid/Part</val>
	    </column>
	    <column>
	      <name>qty</name>
	      <scalar-type>integer</scalar-type>
	      <val>qty</val>
	    </column>
	  </columns>
	</row>
      </rows>
    </template>
    <template xmlns:tde="http://marklogic.com/xdmp/tde">
      <context>./Supplier</context>
      <vars>
	<var>
	  <name>subject-iri</name>
	  <val>sem:iri(concat("https://en.wikipedia.org/wiki/Suppliers_and_Parts_database/SP-0.0.1/Supplier/", fn:encode-for-uri(xs:string(./sid))))</val>
	</var>
      </vars>
      <triples>
	<triple>
	  <subject>
	    <val>$subject-iri</val>
	  </subject>
	  <predicate>
	    <val>$RDF_TYPE</val>
	  </predicate>
	  <object>
	    <val>sem:iri("https://en.wikipedia.org/wiki/Suppliers_and_Parts_database/SP-0.0.1/Supplier")</val>
	  </object>
	</triple>
	<triple>
	  <subject>
	    <val>$subject-iri</val>
	  </subject>
	  <predicate>
	    <val>sem:iri("http://www.w3.org/2000/01/rdf-schema#isDefinedBy")</val>
	  </predicate>
	  <object>
	    <val>fn:base-uri(.)</val>
	  </object>
	</triple>
      </triples>
    </template>
    <template xmlns:tde="http://marklogic.com/xdmp/tde">
      <context>./Supplier</context>
      <rows>
	<row>
	  <schema-name>SP</schema-name>
	  <view-name>Supplier</view-name>
	  <view-layout>sparse</view-layout>
	  <columns>
	    <column>
	      <name>sid</name>
	      <scalar-type>integer</scalar-type>
	      <val>sid</val>
	    </column>
	    <column>
	      <name>sName</name>
	      <scalar-type>string</scalar-type>
	      <val>sName</val>
	    </column>
	    <column>
	      <name>status</name>
	      <scalar-type>integer</scalar-type>
	      <val>status</val>
	    </column>
	    <column>
	      <name>city</name>
	      <scalar-type>string</scalar-type>
	      <val>city</val>
	    </column>
	  </columns>
	</row>
      </rows>
    </template>
  </templates>
</template>
