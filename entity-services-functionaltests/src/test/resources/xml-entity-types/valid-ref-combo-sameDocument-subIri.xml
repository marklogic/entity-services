<es:model xmlns:es="http://marklogic.com/entity-services">
  <es:info>
      <es:title>Northwind-Ref-Combo-SameDocument-SubjectIri</es:title>
      <es:version>0.0.1</es:version>
      <es:base-uri>http://refCombo</es:base-uri>
  </es:info>
  <es:definitions>
    <Customer>
     <es:properties>
        <CustomerId>
          <es:datatype>string</es:datatype>
        </CustomerId>
        <CompanyName>
          <es:datatype>string</es:datatype>
        </CompanyName>
        <Country>
           <es:datatype>string</es:datatype>
        </Country>
		<Address>
	   		<es:datatype>string</es:datatype>
		</Address>
     </es:properties>
     <es:primary-key>CustomerId</es:primary-key>
     <es:required>CustomerId</es:required>
    </Customer>
    <Product>
        <es:properties>
         <ProductName>
            <es:datatype>string</es:datatype>
         </ProductName>
	 <ProductID>
	    <es:datatype>integer</es:datatype>
	 </ProductID> 
         <UnitPrice>
            <es:datatype>integer</es:datatype>
         </UnitPrice>
         <SupplierID>
             <es:datatype>integer</es:datatype>
         </SupplierID>
         <Discontinued>
             <es:datatype>boolean</es:datatype>
         </Discontinued>
        </es:properties>
    </Product>
    <Order>
	<es:properties>
	 <OrderID>
             <es:datatype>integer</es:datatype>
	 </OrderID>
	 <CustomerID>
             <es:ref>#/definitions/Customer</es:ref>
	 </CustomerID>
	 <OrderDate>
             <es:datatype>dateTime</es:datatype>
	 </OrderDate>
	 <ShipAddress>
             <es:datatype>string</es:datatype>
	 </ShipAddress>
	 <OrderDetails>
             <es:datatype>array</es:datatype>
             <es:items>
		<es:ref>http://refSubjectUri/Northwind-Ref-Subject-Uri-0.0.1/Order/OrderDetails</es:ref>
	     </es:items>
	 </OrderDetails>
	</es:properties>
    </Order>
    <OrderDetail>
        <es:properties>
	 <productID>
             <es:ref>#/definitions/Product</es:ref>
	 </productID>
	 <UnitPrice>
             <es:datatype>integer</es:datatype>
	 </UnitPrice>
	 <Quantity>
             <es:datatype>integer</es:datatype>
	 </Quantity>
        </es:properties>
    </OrderDetail>
 </es:definitions>
</es:model>
