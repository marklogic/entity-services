<es:entity-type xmlns:es="http://marklogic.com/entity-services">
  <es:info>
      <es:title>Northwind-Ref-Same-Document</es:title>
      <es:version>0.0.1</es:version>
      <es:base-uri>/refSameDocument</es:base-uri>
  </es:info>
  <es:definitions>
    <Customer>
     <es:properties>
        <CustomerId>
          <es:datatype>string</es:datatype>
        </CustomerId>
        <CompanyName>
          <es:datatype>string</es:datatype>
        </CompanyName>
        <Country>
           <es:datatype>string</es:datatype>
        </Country>
	<Address>
	   <es:datatype>string</es:datatype>
	</Address>
     </es:properties>
     <es:primary-key>CustomerId</es:primary-key>
    </Customer>
    <Product>
        <es:properties>
         <ProductName>
            <es:datatype>string</es:datatype>
         </ProductName>
	 <ProductID>
	    <es:datatype>integer</es:datatype>
	 </ProductID> 
         <UnitPrice>
            <es:datatype>integer</es:datatype>
         </UnitPrice>
         <SupplierID>
             <es:datatype>integer</es:datatype>
         </SupplierID>
         <Discontinued>
             <es:datatype>boolean</es:datatype>
         </Discontinued>
        </es:properties>
    </Product>
    <Order>
	<es:properties>
	 <OrderID>
             <es:datatype>integer</es:datatype>
	 </OrderID>
	 <CustomerID>
             <es:datatype>integer</es:datatype>
	 </CustomerID>
	 <OrderDate>
             <es:datatype>dateTime</es:datatype>
	 </OrderDate>
	 <ShipAddress>
             <es:datatype>string</es:datatype>
	 </ShipAddress>
	 <hasOrderDetails>
             <es:datatype>array</es:datatype>
             <es:items>
		<es:ref>#definitions/OrderDetail</es:ref>
	     </es:items>
	 </hasOrderDetails>
	</es:properties>
    </Order>
    <OrderDetail>
        <es:properties>
	 <ProductID>
             <es:ref>#definitions/Product</es:ref>
	 </ProductID>
	 <UnitPrice>
             <es:datatype>integer</es:datatype>
	 </UnitPrice>
	 <Quantity>
             <es:datatype>integer</es:datatype>
	 </Quantity>
        </es:properties>
    </OrderDetail>
 </es:definitions>
</es:entity-type>
